<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="he">
	<head>
		<meta charset="UTF-8">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width">
		<meta name="generator" content="slidify" />
		<meta name="google" content="notranslate">
		<meta name="format-detection" content="telephone=טקד"/>

		<meta name="description" content="שליחת הודעת ווטסאפ למספר טלפון" />
		<meta name="author" content="רומן ברברמן" />

		<meta name="og:description" content="שליחת הודעת ווטסאפ למספר טלפון"/>
		<meta name="og:url" content="RomanBr60.github.io/web/whatsapp.html"/>
		<meta name="og:title" content="WhatsApp"/>
		<meta name="og:image" content="https://www.whatsapp.com/img/whatsapp-promo.png"/>		
		
		<link rel="shortcut icon" href="https://web.whatsapp.com/img/favicon/1x/favicon.png" type="image/png" />
		<link rel="apple-touch-icon" sizes="194x194" href="https://web.whatsapp.com/apple-touch-icon.png" type="image/png" />

		
		<title>וואטסאפ</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script>
		function detectmob() { 
			return ( navigator.userAgent.match(/Android/i)
				|| navigator.userAgent.match(/webOS/i)
				|| navigator.userAgent.match(/iPhone/i)
				|| navigator.userAgent.match(/iPad/i)
				|| navigator.userAgent.match(/iPod/i)
				|| navigator.userAgent.match(/BlackBerry/i)
				|| navigator.userAgent.match(/Windows Phone/i)
			) ? true : false;
		}
		useWhatsapp = function () {
			
			var num = parseInt($("#number").val().replace(/\D/g,'')) + '';
			num = $("#country_code").val().replace(/\D/g,'') + num;
			var txt = $("#txt").val();
			
			var url = detectmob() ? 'api' : 'web';
			url = `https://${url}.whatsapp.com/send?phone=${num}&text=${txt}`;
			window.location.href = url;
		}
		
		useTel = function () {
			var num = parseInt($("#number").val().replace(/\D/g,'')) + '';
			num = $("#country_code").val().replace(/\D/g,'') + num;
			window.location.href = `tel:${num}`;
		}
		
		</script>
		<style>
			body{
				text-align: center;
				font-family: sans-serif;
				background-color: #fff;
			}
			
			#country_code, #number, #txt {
				font-size: 17px;
				font-family: sans-serif;
				padding-left: 4px;
				padding-right: 4px;
			}

			#txt, h3, a.btn { direction: rtl; }
			#number, #country_code { direction: ltl; }
			
			#txt {
			    box-sizing:border-box;
				width: 300px;
				height: 150px;
			}
			
			#useWhatsapp { width: 140px; }
			#call { width: 115px; }

			#country_code { width: 105px; }
			#number { width: 200px; }
			#bod { margin-top: 5%; }
			h3, #txt { 
				margin-bottom: 5px; 
				padding-bottom: 0;
			}
			h3 { 
				text-shadow: -1px -1px 0 black;
				color: silver;
				letter-spacing: 1px;
				/*text-decoration: underline; */
				font-weight: bold;
			}
		</style>
	
	</head>
	<body>
		<div style = "display: inline;">
			<div id = "bod">
				<h3>מספר טלפון לשליחת ההודעה</h3>
				<input type="text" id="country_code" maxlength = "7" value="972" placeholder="קידומת מדינה"/>
				<input type="text" id="number" placeholder="הקלד מספר" maxlength = "15" />
			</div>
			<br/>
			<div>
				<h3>תוכן ההודעה לפני שליחה</h3>
				<textarea id="txt"></textarea>
			</div>
			<div>
				<a type="button" id = "useWhatsapp" class="btn btn-primary text-center" onclick="useWhatsapp()" role = "button">פתח הודעת ווטסאפ</a>
				<a type="button" id = "call" class="btn btn-primary text-center" onclick="useTel()" role = "button">להתקשר למספר</a>
			</div>
		</div>
	</body>
</html> 
