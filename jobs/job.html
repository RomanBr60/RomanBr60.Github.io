<!DOCTYPE html>
<html lang="he">
	<head>
		<meta property="og:title" content="Social Buttons for Bootstrap" />
		<meta property="og:description" content="Social Sign-In Buttons made in pure CSS based on Bootstrap and Font Awesome!" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="http://lipis.github.io/bootstrap-social/" />
		<meta property="og:image" content="http://lipis.github.io/bootstrap-social/assets/img/bootstrap-social.png" />

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>רשימת אתרים</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
		<style>
			ul, li { 
				text-align: right;
				direction: rtl;
				list-style-type: none;
			}	
			
			li.a {
				font-weight: bold;
				font-size: 17px;
				margin-bottom: 3px;
				text-decoration: underline;
			}
			
			li.b {
				margin-right: 10px;
				margin-bottom: 2px;
				font-size: 15px;
			}
				
		</style>
	</head>
	<body>

		<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" type="application/javascript"></script>
				
		<div class="full-container">
  			
			<div class="form-group" id="display">
				  <button type="button" class="btn btn-default" onclick="loadDoc();">GET DATA</button>
				  <p id='q'></p>
				  <ul id = 'list' name=></ul>
			</div>

		</div>
 
		<script>
		var fileName = "https://romanbr60.github.io/jobs/job2.json";
		var jobs_data;
		var content = "";
		loadDoc();
		function loadDoc() {
			fetch(fileName,{ credentials: 'same-origin' })
			  .then(response => response.json())
			  .then(data => {
					jobs_data = data.job;
					list.innerHTML = '';
					for (var i = 0; i < jobs_data.length; i++) {
						var li = document.createElement("li");
						var attr = document.createAttribute("class");      
						attr.value = "a";                           
						li.setAttributeNode (attr);
						li.innerHTML = + (i+1) + '. ' + jobs_data[i].name;
						list.append (li);
						for (var j = 0; j < jobs_data[i].links.length; j++) {
							var li = document.createElement("li");
							var attr = document.createAttribute("class");      
							attr.value = "b";                           
							li.setAttributeNode (attr);
							
							var t = document.createTextNode((j+1) + ". ");
							var aTag = document.createElement("a")
							var attr = document.createAttribute("href");      
							attr.value = jobs_data[i].links[j].link;                           
							aTag.setAttributeNode (attr);
							aTag.innerHTML = jobs_data[i].links[j].site_name;
							
							li.append (t);
							li.append (aTag);
						
							if (jobs_data[i].links[j].facebook_link != "") {
								t = document.createTextNode(", ");						
								li.append (t);

								aTag = document.createElement("a")
								attr = document.createAttribute("href");      
								attr.value = jobs_data[i].links[j].facebook_link;                           
								aTag.setAttributeNode (attr);
								aTag.innerHTML = "דף הפייסבוק";
								li.append (aTag);
							}							
							list.append (li);
							
						}
						
						var li = document.createElement("li");
						li.append (document.createElement("br"));
						list.append (li);	
							
					}
					
					//list.innerHTML = content;
			  })
			  .catch((error) => {
				   console.error('Error:', error);
			  });
		}		
		
		</script>
	
	</body>
</html>